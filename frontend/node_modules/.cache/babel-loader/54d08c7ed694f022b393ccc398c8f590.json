{"ast":null,"code":"var _jsxFileName = \"E:\\\\frontend\\\\src\\\\echarts\\\\MyMap2.jsx\";\nimport React from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MyMap2 extends React.Component {\n  constructor() {\n    super();\n  }\n\n  componentDidMount() {\n    mapboxgl.accessToken = 'pk.eyJ1IjoiemhhbmdqaW5neXVhbiIsImEiOiJja2R5cHhoNXYycGVtMnlteXkwZGViZDc2In0.UhckH-74AgPwMsDhPjparQ';\n    const map = new mapboxgl.Map({\n      container: this.mapContainer,\n      // 地图容器 id\n      style: 'mapbox://styles/mapbox/streets-v11',\n      // 样式\n      center: [104.294538, 35.860092],\n      // 地图初始中心点 [经度, 维度]\n      zoom: 2.4 // 地图初始缩放级别\n\n    });\n    map.on('load', function () {\n      map.addSource('trees', {\n        type: 'geojson',\n        data: './data.geojson'\n      });\n      map.addLayer({\n        id: 'trees-heat',\n        type: 'heatmap',\n        source: 'trees',\n        maxzoom: 15,\n        paint: {\n          // increase weight as diameter breast height increases\n          'heatmap-weight': {\n            property: 'dbh',\n            type: 'exponential',\n            stops: [[1, 0], [62, 1]]\n          },\n          // increase intensity as zoom level increases\n          'heatmap-intensity': {\n            stops: [[11, 1], [15, 3]]\n          },\n          // assign color values be applied to points depending on their density\n          'heatmap-color': ['interpolate', ['linear'], ['heatmap-density'], 0, 'rgba(236,222,239,0)', 0.2, 'rgb(208,209,230)', 0.4, 'rgb(166,189,219)', 0.6, 'rgb(103,169,207)', 0.8, 'rgb(28,144,153)'],\n          // increase radius as zoom increases\n          'heatmap-radius': {\n            stops: [[11, 15], [15, 20]]\n          },\n          // decrease opacity to transition into the circle layer\n          'heatmap-opacity': {\n            default: 1,\n            stops: [[14, 1], [15, 0]]\n          }\n        }\n      }, 'waterway-label');\n      map.addLayer({\n        id: 'trees-point',\n        type: 'circle',\n        source: 'trees',\n        minzoom: 14,\n        paint: {\n          // increase the radius of the circle as the zoom level and dbh value increases\n          'circle-radius': {\n            property: 'dbh',\n            type: 'exponential',\n            stops: [[{\n              zoom: 15,\n              value: 1\n            }, 5], [{\n              zoom: 15,\n              value: 62\n            }, 10], [{\n              zoom: 22,\n              value: 1\n            }, 20], [{\n              zoom: 22,\n              value: 62\n            }, 50]]\n          },\n          'circle-color': {\n            property: 'dbh',\n            type: 'exponential',\n            stops: [[0, 'rgba(236,222,239,0)'], [10, 'rgb(236,222,239)'], [20, 'rgb(208,209,230)'], [30, 'rgb(166,189,219)'], [40, 'rgb(103,169,207)'], [50, 'rgb(28,144,153)'], [60, 'rgb(1,108,89)']]\n          },\n          'circle-stroke-color': 'white',\n          'circle-stroke-width': 1,\n          'circle-opacity': {\n            stops: [[14, 0], [15, 1]]\n          }\n        }\n      }, 'waterway-label');\n    });\n    var nav = new mapboxgl.NavigationControl();\n    map.addControl(nav, 'top-left');\n    this.setState({\n      map: map\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"link\", {\n        href: \"https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css\",\n        rel: \"stylesheet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: el => this.mapContainer = el,\n        style: {\n          height: '90%',\n          width: '95%',\n          position: 'absolute'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default MyMap2;","map":{"version":3,"sources":["E:/frontend/src/echarts/MyMap2.jsx"],"names":["React","mapboxgl","MyMap2","Component","constructor","componentDidMount","accessToken","map","Map","container","mapContainer","style","center","zoom","on","addSource","type","data","addLayer","id","source","maxzoom","paint","property","stops","default","minzoom","value","nav","NavigationControl","addControl","setState","render","el","height","width","position"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport mapboxgl from 'mapbox-gl'\r\n\r\n\r\nclass MyMap2 extends React.Component {\r\n    constructor() {\r\n      super();\r\n    }\r\n  \r\n    componentDidMount() {\r\n    mapboxgl.accessToken = 'pk.eyJ1IjoiemhhbmdqaW5neXVhbiIsImEiOiJja2R5cHhoNXYycGVtMnlteXkwZGViZDc2In0.UhckH-74AgPwMsDhPjparQ'\r\n    const map = new mapboxgl.Map({\r\n    container: this.mapContainer, // 地图容器 id\r\n    style: 'mapbox://styles/mapbox/streets-v11', // 样式\r\n    center: [104.294538, 35.860092], // 地图初始中心点 [经度, 维度]\r\n    zoom: 2.4 // 地图初始缩放级别\r\n    });\r\n\r\n    map.on('load', function () { \r\n      map.addSource('trees', {\r\n        type: 'geojson',\r\n        data: './data.geojson'\r\n        });\r\n        map.addLayer({\r\n          id: 'trees-heat',\r\n          type: 'heatmap',\r\n          source: 'trees',\r\n          maxzoom: 15,\r\n          paint: {\r\n          // increase weight as diameter breast height increases\r\n          'heatmap-weight': {\r\n          property: 'dbh',\r\n          type: 'exponential',\r\n          stops: [\r\n          [1, 0],\r\n          [62, 1]\r\n          ]\r\n          },\r\n          // increase intensity as zoom level increases\r\n          'heatmap-intensity': {\r\n          stops: [\r\n          [11, 1],\r\n          [15, 3]\r\n          ]\r\n          },\r\n          // assign color values be applied to points depending on their density\r\n          'heatmap-color': [\r\n          'interpolate',\r\n          ['linear'],\r\n          ['heatmap-density'],\r\n          0, 'rgba(236,222,239,0)',\r\n          0.2, 'rgb(208,209,230)',\r\n          0.4, 'rgb(166,189,219)',\r\n          0.6, 'rgb(103,169,207)',\r\n          0.8, 'rgb(28,144,153)'\r\n          ],\r\n          // increase radius as zoom increases\r\n          'heatmap-radius': {\r\n          stops: [\r\n          [11, 15],\r\n          [15, 20]\r\n          ]\r\n          },\r\n          // decrease opacity to transition into the circle layer\r\n          'heatmap-opacity': {\r\n          default: 1,\r\n          stops: [\r\n          [14, 1],\r\n          [15, 0]\r\n          ]\r\n          },\r\n          }\r\n          }, 'waterway-label');\r\n          map.addLayer({\r\n            id: 'trees-point',\r\n            type: 'circle',\r\n            source: 'trees',\r\n            minzoom: 14,\r\n            paint: {\r\n            // increase the radius of the circle as the zoom level and dbh value increases\r\n            'circle-radius': {\r\n            property: 'dbh',\r\n            type: 'exponential',\r\n            stops: [\r\n            [{zoom: 15, value: 1 }, 5],\r\n            [{zoom: 15, value: 62 }, 10],\r\n            [{zoom: 22, value: 1 }, 20],\r\n            [{zoom: 22, value: 62 }, 50],\r\n            ]\r\n            },\r\n            'circle-color': {\r\n            property: 'dbh',\r\n            type: 'exponential',\r\n            stops: [\r\n            [0, 'rgba(236,222,239,0)'],\r\n            [10, 'rgb(236,222,239)'],\r\n            [20, 'rgb(208,209,230)'],\r\n            [30, 'rgb(166,189,219)'],\r\n            [40, 'rgb(103,169,207)'],\r\n            [50, 'rgb(28,144,153)'],\r\n            [60, 'rgb(1,108,89)']\r\n            ]\r\n            },\r\n            'circle-stroke-color': 'white',\r\n            'circle-stroke-width': 1,\r\n            'circle-opacity': {\r\n            stops: [\r\n            [14, 0],\r\n            [15, 1]\r\n            ]\r\n            }\r\n            }\r\n            }, 'waterway-label');\r\n       });\r\n      \r\n    var nav = new mapboxgl.NavigationControl();\r\n    map.addControl(nav, 'top-left');\r\n    this.setState({map: map});\r\n    }\r\n    \r\n    render() { \r\n        return (\r\n          <div>\r\n            {/* 引入样式文件 */}\r\n            <link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />\r\n            {/* 地图容器 */}\r\n            <div ref={el => this.mapContainer = el} style={{height: '90%', width:'95%', position: 'absolute'}} />\r\n          </div>\r\n        );\r\n      }\r\n}\r\nexport default MyMap2;"]},"metadata":{},"sourceType":"module"}