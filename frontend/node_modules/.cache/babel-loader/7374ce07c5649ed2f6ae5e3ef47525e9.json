{"ast":null,"code":"var _jsxFileName = \"D:\\\\ZJU5\\\\\\u8F6F\\u4EF6\\u5DE5\\u7A0B\\u7BA1\\u7406\\\\frontend\\\\src\\\\echarts\\\\MyMap.jsx\";\n//高级功能的标注点页面，应该没啥改的\nimport React from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst datasource = require(\"./datasource.json\");\n\nvar data = [];\nvar j = 0;\n\nfor (var i = 0; i < datasource.length; i++) {\n  if (datasource[i][\"地点\"] !== '空') {\n    data.push({\n      position: [parseFloat(datasource[i]['经度']), parseFloat(datasource[i]['维度'])],\n      content: datasource[i]['名称'] + \" \" + datasource[i]['年代']\n    }); //  data[j]={\n    //    position:[parseFloat(datasource[i]['经度']),parseFloat(datasource[i]['维度'])],\n    //    content:datasource[i]['名称']\n    //  }\n  }\n}\n\nconsole.log(data);\n\nclass MyMap extends React.Component {\n  constructor() {\n    super();\n  }\n\n  componentDidMount() {\n    const markers = data;\n    mapboxgl.accessToken = 'pk.eyJ1IjoiemhhbmdqaW5neXVhbiIsImEiOiJja2R5cHhoNXYycGVtMnlteXkwZGViZDc2In0.UhckH-74AgPwMsDhPjparQ';\n    const map = new mapboxgl.Map({\n      container: this.mapContainer,\n      // container ID\n      style: 'mapbox://styles/mapbox/satellite-v9',\n      // style URL\n      center: [110, 30],\n      // starting position [lng, lat]\n      zoom: 4,\n      maxZoom: 5\n    });\n    markers.forEach(function (marker) {\n      const marker_on = new mapboxgl.Marker({\n        color: marker.color,\n        anchor: \"center\",\n        draggable: false\n      }).setLngLat(marker.position).addTo(map);\n      const el = marker_on.getElement();\n      el.addEventListener('click', () => {\n        window.alert(marker.content);\n      });\n      const popup = new mapboxgl.Popup({\n        anchor: marker.direction,\n        offset: marker.offset,\n        className: 'info',\n        closeButton: false,\n        closeOnClick: false,\n        width: '95%'\n      }).setLngLat(marker.position).addTo(map);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"link\", {\n        href: \"https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css\",\n        rel: \"stylesheet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: el => this.mapContainer = el,\n        style: {\n          height: '90%',\n          width: '95%',\n          position: 'absolute'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default MyMap;","map":{"version":3,"sources":["D:/ZJU5/软件工程管理/frontend/src/echarts/MyMap.jsx"],"names":["React","mapboxgl","datasource","require","data","j","i","length","push","position","parseFloat","content","console","log","MyMap","Component","constructor","componentDidMount","markers","accessToken","map","Map","container","mapContainer","style","center","zoom","maxZoom","forEach","marker","marker_on","Marker","color","anchor","draggable","setLngLat","addTo","el","getElement","addEventListener","window","alert","popup","Popup","direction","offset","className","closeButton","closeOnClick","width","render","height"],"mappings":"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","sourcesContent":["//高级功能的标注点页面，应该没啥改的\nimport React from 'react'\nimport mapboxgl from 'mapbox-gl';\nconst datasource=require(\"./datasource.json\");\nvar data = [];\nvar j=0;\nfor(var i=0;i<datasource.length;i++){\n   if(datasource[i][\"地点\"]!=='空'){\n     data.push({\n      position:[parseFloat(datasource[i]['经度']),parseFloat(datasource[i]['维度'])],\n      content:datasource[i]['名称']+\" \"+datasource[i]['年代']\n    })\n    //  data[j]={\n    //    position:[parseFloat(datasource[i]['经度']),parseFloat(datasource[i]['维度'])],\n    //    content:datasource[i]['名称']\n    //  }\n   }\n}\nconsole.log(data);\nclass MyMap extends React.Component {\n  constructor() {\n    super();\n  }\n\n  componentDidMount() {\n    const markers = data;\n \n\nmapboxgl.accessToken = 'pk.eyJ1IjoiemhhbmdqaW5neXVhbiIsImEiOiJja2R5cHhoNXYycGVtMnlteXkwZGViZDc2In0.UhckH-74AgPwMsDhPjparQ';\nconst map = new mapboxgl.Map({\n  container: this.mapContainer, // container ID\n  style: 'mapbox://styles/mapbox/satellite-v9', // style URL\n  center:[110, 30], // starting position [lng, lat]\n  zoom: 4,\n  maxZoom:5\n});\n\n\n  markers.forEach(function(marker) {\n    const marker_on = new mapboxgl.Marker({\n    color: marker.color,\n    anchor:\"center\",\n    draggable: false,\n  }).setLngLat(marker.position)\n  .addTo(map);\n\n  const el = marker_on.getElement();\n  el.addEventListener('click', () => {\n  window.alert(marker.content);\n  });\n\n  const popup = new mapboxgl.Popup({anchor:marker.direction,offset: marker.offset, className: 'info',closeButton:false,closeOnClick:false,width:'95%'})\n  .setLngLat(marker.position)\n  .addTo(map);\n      \n\n  });\n\n  }\n\n  render() { \n    return (\n      <div>\n        {/* 引入样式文件 */}\n        <link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />\n        {/* 地图容器 */}\n        <div ref={el => this.mapContainer = el} style={{height: '90%', width:'95%', position: 'absolute'}} />\n      </div>\n    );\n  }\n}\n\nexport default MyMap;\n"]},"metadata":{},"sourceType":"module"}