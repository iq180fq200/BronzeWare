{"ast":null,"code":"var _jsxFileName = \"E:\\\\frontend\\\\src\\\\echarts\\\\MyMap.jsx\";\nimport React from 'react';\nimport mapboxgl from 'mapbox-gl'; // import { point as pointHelper } from '@turf/helpers'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MyMap extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      //  把地图对象存在这里\n      map: () => ({})\n    };\n  }\n\n  componentDidMount() {\n    mapboxgl.accessToken = 'pk.eyJ1IjoiemhhbmdqaW5neXVhbiIsImEiOiJja2R5cHhoNXYycGVtMnlteXkwZGViZDc2In0.UhckH-74AgPwMsDhPjparQ';\n    const map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: 'mapbox://styles/mapbox/satellite-v9',\n      center: [110, 30],\n      zoom: 3,\n      scrollZoom: false\n    });\n    map.on('load', function () {\n      /* on(type,callback)为type事件添加监听器，callback是响应函数*/\n      map.addSource(\"points\", {\n        \"type\": \"geojson\",\n\n        /* geojson类型资源 */\n        \"data\": {\n          /* geojson数据 */\n          \"type\": \"FeatureCollection\",\n          \"features\": [//   {\n          //     \"type\": \"Feature\",\n          //     \"geometry\": {\n          //         \"type\": \"Feature\",\n          //         \"coordinates\": [77.03238901390978, 38.913188059745586]\n          //     },\n          //     \"properties\": {\n          //         \"title\": \"Mapbox DC\",\n          //         // \"icon\": \"monument\"\n          //     },\n          // }, \n          {\n            \"type\": \"Feature\",\n            \"geometry\": {\n              \"type\": \"Point\",\n              \"coordinates\": [122.414, 37.776]\n            },\n            \"properties\": {\n              \"title\": \"Mapbox SF\",\n              //\"icon\": \"harbor\"\n              \"marker-color\": \"#f20707\",\n              \"marker-size\": \"medium\",\n              \"marker-symbol\": \"circle-stroked\"\n            }\n          }]\n        }\n      });\n      map.addLayer({\n        \"id\": \"points\",\n        \"type\": \"symbol\",\n\n        /* symbol类型layer，一般用来绘制点*/\n        \"source\": \"points\",\n        \"layout\": {\n          \"icon-image\": \"{icon}-15\",\n\n          /* 图标图像 */\n          \"text-field\": \"{title}\",\n\n          /* 使用text标签显示的值，Feature属性使用{域名}格式*/\n          \"text-font\": [\"Open Sans Semibold\", \"Arial Unicode MS Bold\"],\n\n          /* 文本字体 */\n          \"text-offset\": [0, 0.6],\n\n          /* 该属性表示文本偏移锚点的距离，正值表示向右和向下，负值表示向左和向上 */\n          \"text-anchor\": \"top\"\n          /* 该属性设置文本中最接近锚点的部分，top表示文本的顶端放置到最接近锚点的位置 */\n\n        }\n      });\n    });\n    var nav = new mapboxgl.NavigationControl();\n    map.addControl(nav, 'top-left');\n    this.setState({\n      map: map\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"link\", {\n        href: \"https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css\",\n        rel: \"stylesheet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: el => this.mapContainer = el,\n        style: {\n          height: '90%',\n          width: '95%',\n          position: 'absolute'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default MyMap;","map":{"version":3,"sources":["E:/frontend/src/echarts/MyMap.jsx"],"names":["React","mapboxgl","MyMap","Component","constructor","state","map","componentDidMount","accessToken","Map","container","mapContainer","style","center","zoom","scrollZoom","on","addSource","addLayer","nav","NavigationControl","addControl","setState","render","el","height","width","position"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB,C,CACA;;;;AAEA,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAoC;AAEhCC,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACX;AACAC,MAAAA,GAAG,EAAE,OAAK,EAAL;AAFM,KAAb;AAID;;AAGHC,EAAAA,iBAAiB,GAAG;AAElBN,IAAAA,QAAQ,CAACO,WAAT,GAAuB,mGAAvB;AAEA,UAAMF,GAAG,GAAG,IAAIL,QAAQ,CAACQ,GAAb,CAAiB;AAC7BC,MAAAA,SAAS,EAAE,KAAKC,YADa;AAE7BC,MAAAA,KAAK,EAAE,qCAFsB;AAG7BC,MAAAA,MAAM,EAAE,CAAC,GAAD,EAAM,EAAN,CAHqB;AAI7BC,MAAAA,IAAI,EAAE,CAJuB;AAK7BC,MAAAA,UAAU,EAAE;AALiB,KAAjB,CAAZ;AAOAT,IAAAA,GAAG,CAACU,EAAJ,CAAO,MAAP,EAAe,YAAY;AAAS;AAClCV,MAAAA,GAAG,CAACW,SAAJ,CAAc,QAAd,EAAwB;AACpB,gBAAQ,SADY;;AACQ;AAC5B,gBAAQ;AAAoB;AACxB,kBAAQ,mBADJ;AAEJ,sBAAY,CACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACI,oBAAQ,SADZ;AAEI,wBAAY;AACR,sBAAQ,OADA;AAER,6BAAe,CAAC,OAAD,EAAU,MAAV;AAFP,aAFhB;AAMI,0BAAc;AACV,uBAAS,WADC;AAEV;AACA,8BAAgB,SAHN;AAIV,6BAAe,QAJL;AAKV,+BAAiB;AALP;AANlB,WAbY;AAFR;AAFY,OAAxB;AAmCAX,MAAAA,GAAG,CAACY,QAAJ,CAAa;AACT,cAAM,QADG;AAET,gBAAQ,QAFC;;AAEW;AACpB,kBAAU,QAHD;AAIT,kBAAU;AACR,wBAAc,WADN;;AACqB;AAC7B,wBAAc,SAFN;;AAEqB;AAC7B,uBAAa,CAAC,oBAAD,EAAuB,uBAAvB,CAHL;;AAGuD;AAC/D,yBAAe,CAAC,CAAD,EAAI,GAAJ,CAJP;;AAIqB;AAC7B,yBAAe;AAAc;;AALrB;AAJD,OAAb;AAYH,KAhDC;AAkDA,QAAIC,GAAG,GAAG,IAAIlB,QAAQ,CAACmB,iBAAb,EAAV;AACAd,IAAAA,GAAG,CAACe,UAAJ,CAAeF,GAAf,EAAoB,UAApB;AACA,SAAKG,QAAL,CAAc;AAAChB,MAAAA,GAAG,EAAEA;AAAN,KAAd;AACD;;AAEDiB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BAEE;AAAM,QAAA,IAAI,EAAC,2DAAX;AAAuE,QAAA,GAAG,EAAC;AAA3E;AAAA;AAAA;AAAA;AAAA,cAFF,eAIE;AAAK,QAAA,GAAG,EAAEC,EAAE,IAAI,KAAKb,YAAL,GAAoBa,EAApC;AAAwC,QAAA,KAAK,EAAE;AAACC,UAAAA,MAAM,EAAE,KAAT;AAAgBC,UAAAA,KAAK,EAAC,KAAtB;AAA6BC,UAAAA,QAAQ,EAAE;AAAvC;AAA/C;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAQD;;AAtFiC;;AAyFpC,eAAezB,KAAf","sourcesContent":["import React from 'react'\nimport mapboxgl from 'mapbox-gl';\n// import { point as pointHelper } from '@turf/helpers'\n\nclass MyMap extends React.Component {\n \n    constructor() {\n      super();\n      this.state = {\n        //  把地图对象存在这里\n        map: ()=>({}),\n      };\n    }\n  \n\n  componentDidMount() {\n\n    mapboxgl.accessToken = 'pk.eyJ1IjoiemhhbmdqaW5neXVhbiIsImEiOiJja2R5cHhoNXYycGVtMnlteXkwZGViZDc2In0.UhckH-74AgPwMsDhPjparQ';\n    \n    const map = new mapboxgl.Map({\n    container: this.mapContainer,\n    style: 'mapbox://styles/mapbox/satellite-v9',\n    center: [110, 30],\n    zoom: 3,\n    scrollZoom: false,\n    });\n    map.on('load', function () {        /* on(type,callback)为type事件添加监听器，callback是响应函数*/\n      map.addSource(\"points\", {\n          \"type\": \"geojson\",          /* geojson类型资源 */\n          \"data\": {                   /* geojson数据 */\n              \"type\": \"FeatureCollection\",\n              \"features\": [\n              //   {\n              //     \"type\": \"Feature\",\n              //     \"geometry\": {\n              //         \"type\": \"Feature\",\n              //         \"coordinates\": [77.03238901390978, 38.913188059745586]\n              //     },\n              //     \"properties\": {\n              //         \"title\": \"Mapbox DC\",\n              //         // \"icon\": \"monument\"\n              //     },\n                  \n              // }, \n              {\n                  \"type\": \"Feature\",\n                  \"geometry\": {\n                      \"type\": \"Point\",\n                      \"coordinates\": [122.414, 37.776]\n                  },\n                  \"properties\": {\n                      \"title\": \"Mapbox SF\",\n                      //\"icon\": \"harbor\"\n                      \"marker-color\": \"#f20707\",\n                      \"marker-size\": \"medium\",\n                      \"marker-symbol\": \"circle-stroked\"\n\n                  }\n              }]\n          }\n      });\n   \n      map.addLayer({\n          \"id\": \"points\",\n          \"type\": \"symbol\",   /* symbol类型layer，一般用来绘制点*/\n          \"source\": \"points\",\n          \"layout\": {\n            \"icon-image\": \"{icon}-15\",   /* 图标图像 */\n            \"text-field\": \"{title}\",     /* 使用text标签显示的值，Feature属性使用{域名}格式*/\n            \"text-font\": [\"Open Sans Semibold\", \"Arial Unicode MS Bold\"],  /* 文本字体 */\n            \"text-offset\": [0, 0.6],     /* 该属性表示文本偏移锚点的距离，正值表示向右和向下，负值表示向左和向上 */\n            \"text-anchor\": \"top\"         /* 该属性设置文本中最接近锚点的部分，top表示文本的顶端放置到最接近锚点的位置 */\n        }\n      });\n  });\n\n    var nav = new mapboxgl.NavigationControl();\n    map.addControl(nav, 'top-left');\n    this.setState({map: map});\n  }\n\n  render() { \n    return (\n      <div>\n        {/* 引入样式文件 */}\n        <link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />\n        {/* 地图容器 */}\n        <div ref={el => this.mapContainer = el} style={{height: '90%', width:'95%', position: 'absolute'}} />\n      </div>\n    );\n  }\n}\n\nexport default MyMap;\n"]},"metadata":{},"sourceType":"module"}